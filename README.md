# 数理最適化を用いたシフト自動作成システム (Shift Scheduler)

## 1. 概要
アルバイトスタッフのシフト希望を収集し、Google OR-Tools（制約プログラミング）を用いて、店舗の労働条件やスタッフの希望を満たす最適なシフト表を自動生成するWebアプリケーション。

**【解決する課題】**
既存のシフト管理ツールは「枠を埋める」作業のデジタル化に留まり、「誰をどこに配置すべきか」という**組合せ最適化問題（ナーススケジューリング問題）**の自動化までは対応していないことが多い。本システムは、数理モデルを用いて店長のシフト作成業務時間を「数時間 → 数秒」に短縮することを目的とする。

## 2. 使用技術と選定理由
| カテゴリ | 技術 | バージョン | 選定理由 |
| :--- | :--- | :--- | :--- |
| **Language** | Python | 3.11 | 数理計算ライブラリとWeb開発を同一言語で統一し、データ連携のオーバーヘッドを削減するため。 |
| **Framework** | Django | 5.x | ユーザー管理・認証・管理画面機能が標準装備されており、数理ロジックの実装にリソースを集中させるため。 |
| **Solver** | Google OR-Tools | 9.x | 複雑な制約条件（NP困難）を持つ最適化問題を、実用的な時間内で解くことができる CP-SAT ソルバーを利用するため。 |
| **DB** | SQLite / PostgreSQL | - | Django ORMによる抽象化により、開発フェーズ（SQLite）から本番（PostgreSQL）への移行コストを最小化するため。 |
| **Infra** | Docker | - | 開発環境をコード化 (IaC) し、OS間の差異による環境依存エラーを排除するため。 |

## 3. 主な機能
1. **シフト希望の一括提出**
   - カレンダーUIによる直感的な複数日選択
   - 平日/土日祝の自動判定によるデフォルト時間設定 (`jpholiday` ライブラリ使用)
2. **数理最適化によるシフト自動生成**
   - 制約条件: 必要人数、連続勤務制限、ベテランスタッフの必置
   - 目的関数: スタッフの希望充足率の最大化
3. **店長用ダッシュボード**
   - AI作成実行、確定シフトの可視化・修正

## 4. 環境構築と起動
```bash
# リポジトリのクローン
git clone <repository_url>
cd shift_scheduler

# Dockerコンテナのビルドと起動
docker compose up --build